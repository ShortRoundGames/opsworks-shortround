[general]
# Path to the AWSLogs agent's state file. Agent uses this file to maintain
# client side state across its executions.
state_file = /var/awslogs/state/agent-state

# Add the log entries.
# Go through each layer of this instance and check for cloudwatch setups.
@layers = node["opsworks"]["instance"]["layers"];
@layer_logs = node[:cloudwatch_logs]

# Found layers = <%= @layers %>

<% @layers.each do |layerName|
	<% if (@layer_logs[layerName]) %>
		<% @layer_logs[layerName].each do |streamName filePath| %>	
			<% log layerName + " : stream=" + streamName + " file=" + filePath %>		
		<% end %>
	<% end %>
<% end %>



