<% # Build the options %>
<% @coordinator = node[:proxy_server]["coordinator"] %>
<% @coordinatorPassword = node[:proxy_server]["coordinator_password"] %>
<% @clientPassword = node[:proxy_server]["client_password"] %>
<% @externalAddress = node[:opsworks][:instance][:ip] %>


CHECK PROCESS proxy_server MATCHING "proxy_server.out"
  if does not exist then exec "/mnt/raknet/bin/proxy_server.out -clientPassword \'<%= @clientPassword %>\' -coordinator \'<%= @coordinator %>\' -coordinatorPassword \'<%= @coordinatorPassword %>\' -externalAddress \'<%= @externalAddress %>\'"
